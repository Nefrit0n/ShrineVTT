<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>ShrineVTT — Realm</title>

  <!-- Fantasy/RPG typography -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Unna:wght@400;700&family=Inter:wght@400;600;700&display=swap"
    rel="stylesheet" />

  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <div class="page">
    <!-- Sky/constellation background -->
    <div class="bg"></div>

    <header class="topbar">
      <div class="brand">
        <span class="brand__crest">⟐</span>
        <h1 class="brand__title">ShrineVTT</h1>
        <span class="brand__subtitle">The Wayfarer’s Table</span>
      </div>

      <div class="status">
        <div class="status__item">
          <span class="label">Status</span>
          <span id="connection-status" class="pill pill--danger" title="WebSocket status">OFFLINE</span>
        </div>
        <div class="status__item">
          <span class="label">Role</span>
          <span id="role-indicator" class="pill">GUEST</span>
        </div>
      </div>
    </header>

    <main class="layout">
      <!-- Session panel -->
      <aside class="panel panel--parchment panel--narrow">
        <div class="panel__section">
          <h2 class="panel__title">Session</h2>
          <div class="stack">
            <button id="gm-login-open" class="btn btn--primary">
              Enter as Game Master
            </button>
            <button id="join-open" class="btn">Join as Adventurer</button>
            <button id="ping-button" class="btn btn--ghost" disabled>
              Send Ping
            </button>
          </div>
        </div>

        <div class="panel__section">
          <h3 class="panel__subtitle">Event Log</h3>
          <div id="log-entries" class="log"></div>
        </div>
      </aside>

      <!-- Scene canvas -->
      <section class="scene">
        <canvas id="scene-canvas" class="scene__canvas" aria-label="Scene"></canvas>
        <div class="scene__frame"></div>
      </section>
    </main>
  </div>

  <!-- Modal: GM Login -->
  <div id="modal-gm" class="modal" aria-hidden="true">
    <div class="modal__backdrop" data-close></div>
    <div class="modal__dialog panel panel--parchment">
      <header class="modal__header">
        <h3 class="panel__title">Game Master’s Seal</h3>
        <button class="modal__close" title="Close" data-close>✕</button>
      </header>
      <div class="modal__body">
        <label class="field">
          <span class="field__label">Password</span>
          <input id="gm-password" class="field__input" type="password" placeholder="Enter GM password"
            autocomplete="current-password" />
        </label>
        <div class="hint">
          This password is configured by the host of the realm.
        </div>
      </div>
      <footer class="modal__footer">
        <button class="btn btn--ghost" data-close>Cancel</button>
        <button id="gm-login-btn" class="btn btn--primary">Enter</button>
      </footer>
    </div>
  </div>

  <!-- Modal: Join Session -->
  <div id="modal-join" class="modal" aria-hidden="true">
    <div class="modal__backdrop" data-close></div>
    <div class="modal__dialog panel panel--parchment">
      <header class="modal__header">
        <h3 class="panel__title">Join the Party</h3>
        <button class="modal__close" title="Close" data-close>✕</button>
      </header>
      <div class="modal__body grid grid--2">
        <label class="field">
          <span class="field__label">Nickname</span>
          <input id="join-nickname" class="field__input" type="text" placeholder="e.g., Nefriton" maxlength="32" />
        </label>
        <label class="field">
          <span class="field__label">Session Code</span>
          <input id="join-session" class="field__input" type="text" placeholder="e.g., ABR7" maxlength="24" />
        </label>
      </div>
      <footer class="modal__footer">
        <button class="btn btn--ghost" data-close>Cancel</button>
        <button id="join-session-btn" class="btn btn--primary">Join</button>
      </footer>
    </div>
  </div>

  <!-- Socket.io runtime -->
  <script src="/socket.io/socket.io.js"></script>
  <!-- App -->
  <script type="module" src="./app.js"></script>
</body>

</html>